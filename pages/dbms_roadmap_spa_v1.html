<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive DBMS & SQL Placement Roadmap</title>
  <!-- Chosen Palette: Calm Focus -->
  <!-- Application Structure Plan: The application transforms the linear text roadmap into an interactive dashboard. A persistent sidebar shows overall progress via a donut chart and weekly navigation links with individual progress bars. The main content area dynamically displays the selected week's topics in an accordion format, allowing users to expand/collapse subjects. This structure enhances usability by breaking down the content into manageable, user-selected chunks and provides immediate visual feedback on progress, which is more engaging than a static document. -->
  <!-- Visualization & Content Choices: 
    - Report Info: Overall study progress. Goal: Inform/Motivate. Viz: Donut Chart. Interaction: Updates automatically as user checks off items. Justification: Provides a clear, at-a-glance summary of completion. Library: Chart.js.
    - Report Info: Weekly progress. Goal: Inform. Viz: HTML/Tailwind Progress Bars. Interaction: Updates with checkboxes. Justification: Granular feedback for each section. Method: HTML/JS.
    - Report Info: Hierarchical topics (e.g., Week -> Topic -> Sub-topic). Goal: Organize. Presentation: Interactive Accordion. Interaction: Click to expand/collapse. Justification: Reduces initial cognitive load and allows users to focus on one topic at a time. Method: HTML/JS.
    - Report Info: Transaction States list. Goal: Organize/Inform. Viz: HTML/CSS Diagram. Interaction: Static visual. Justification: A visual flow diagram is more intuitive for understanding state transitions than a text list. Method: HTML/Tailwind.
    - Report Info: All study items. Goal: Track progress. Presentation: Checkboxes. Interaction: Click to check/uncheck. Justification: Makes the roadmap an active tool rather than a passive document. Method: HTML/JS.
    -->
  <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #FDFBF7;
      color: #4A4A4A;
    }

    .chart-container {
      position: relative;
      width: 100%;
      max-width: 200px;
      margin-left: auto;
      margin-right: auto;
      height: 200px;
      max-height: 200px;
    }

    .progress-bar-bg {
      background-color: #EAE5E0;
    }

    .progress-bar-fill {
      background-color: #4682B4;
      transition: width 0.5s ease-in-out;
    }

    .nav-item.active {
      background-color: #E0E8F0;
      color: #333;
      font-weight: 600;
    }

    details>summary {
      list-style: none;
    }

    details>summary::-webkit-details-marker {
      display: none;
    }

    details[open] summary .arrow {
      transform: rotate(90deg);
    }

    .arrow {
      transition: transform 0.2s;
    }

    .db-state {
      border: 2px solid #A5D6A7;
      background-color: #E8F5E9;
      color: #2E7D32;
    }
  </style>
</head>

<body class="antialiased">
  <div class="flex flex-col md:flex-row min-h-screen">
    <!-- Sidebar -->
    <aside class="w-full md:w-72 lg:w-80 bg-white border-r border-gray-200 p-6 flex-shrink-0">
      <h1 class="text-2xl font-bold text-gray-800 mb-2">DBMS & SQL Roadmap</h1>
      <p class="text-sm text-gray-500 mb-6">Track your preparation for placements.</p>

      <div class="chart-container mb-6">
        <canvas id="progressChart"></canvas>
        <div id="progressText"
          class="absolute inset-0 flex items-center justify-center text-3xl font-bold text-gray-700">0%</div>
      </div>

      <nav id="week-nav" class="space-y-2">
        <!-- Navigation items will be injected here by JS -->
      </nav>

      <div class="mt-8">
        <h3 class="text-lg font-semibold text-gray-800 mb-3">Resources</h3>
        <ul class="space-y-2 text-sm">
          <li><a href="#" class="text-blue-600 hover:underline">"Database System Concepts" (Korth)</a></li>
          <li><a href="#" class="text-blue-600 hover:underline">SQLZoo for Practice</a></li>
          <li><a href="#" class="text-blue-600 hover:underline">LeetCode Database Problems</a></li>
        </ul>
      </div>
    </aside>

    <!-- Main Content -->
    <main id="main-content" class="flex-1 p-6 md:p-10 overflow-y-auto">
      <!-- Content will be injected here by JS -->
    </main>
  </div>

  <script>
    const roadmapData = [
      {
        week: 1,
        title: "Intro to Databases & Relational Model",
        intro: "This foundational week introduces the core concepts of databases. You'll learn what a DBMS is, how it differs from a simple file system, and understand the building blocks of the relational model, which is the basis for most modern database systems.",
        topics: [
          {
            title: "Database Fundamentals",
            items: [
              "What is a Database and a DBMS?",
              "Difference between File System and DBMS.",
              "Levels of Abstraction (Physical, Logical, View).",
              "Database Users and Administrators."
            ]
          },
          {
            title: "Relational Model",
            items: [
              "Basic Concepts: Tuples, Attributes, Domains, Relations.",
              "Relational Schema and Instance."
            ]
          },
          {
            title: "Keys and Constraints",
            items: [
              "Keys: Super Key, Candidate Key, Primary Key, Foreign Key, Alternate Key.",
              "Integrity Constraints: Domain, Key, Entity, Referential."
            ]
          }
        ]
      },
      {
        week: 2,
        title: "SQL Fundamentals",
        intro: "This week is all about getting hands-on with SQL (Structured Query Language). You will learn the essential commands for defining, manipulating, and querying data in a relational database. Mastering these fundamentals is critical for any data-related role.",
        topics: [
          {
            title: "Introduction to SQL",
            items: [
              "What is SQL?",
              "Data Definition Language (DDL): CREATE, ALTER, DROP, TRUNCATE.",
              "Data Manipulation Language (DML): INSERT, UPDATE, DELETE."
            ]
          },
          {
            title: "Data Query Language (DQL)",
            items: [
              "SELECT statement and basic structure.",
              "WHERE clause for filtering.",
              "ORDER BY for sorting results.",
              "DISTINCT for unique values."
            ]
          },
          {
            title: "Filtering and Grouping",
            items: [
              "Operators: IN, BETWEEN, LIKE.",
              "NULL values.",
              "GROUP BY for aggregation.",
              "HAVING clause to filter groups."
            ],
            practice: "Practice writing basic SELECT queries on sample datasets. Focus on filtering and sorting data accurately."
          }
        ]
      },
      {
        week: 3,
        title: "Advanced SQL",
        intro: "Now we move beyond simple queries. This week covers powerful SQL features like JOINs for combining data from multiple tables and subqueries for performing complex lookups. These are essential skills for solving real-world database problems.",
        topics: [
          {
            title: "JOINs",
            items: [
              "INNER JOIN.",
              "LEFT (OUTER) JOIN.",
              "RIGHT (OUTER) JOIN.",
              "FULL (OUTER) JOIN.",
              "Self Join."
            ]
          },
          {
            title: "Subqueries & Views",
            items: [
              "Subqueries (Nested Queries) in SELECT, FROM, and WHERE clauses.",
              "Correlated Subqueries.",
              "Views: Creating and using virtual tables."
            ]
          },
          {
            title: "Aggregate Functions & Indexes",
            items: [
              "Aggregate Functions: COUNT, SUM, AVG, MIN, MAX.",
              "Common Table Expressions (CTEs) with the WITH clause.",
              "Indexes: What they are and why they improve performance."
            ],
            practice: "Solve problems that require joining multiple tables and using subqueries. Websites like SQLZoo are great for this."
          }
        ]
      },
      {
        week: 4,
        title: "Normalization & ER Model",
        intro: "Good database design is crucial for data integrity and performance. This week, you'll learn about the Entity-Relationship (ER) model for designing databases and normalization for organizing data to reduce redundancy and improve consistency.",
        topics: [
          {
            title: "Entity-Relationship (ER) Model",
            items: [
              "Core Concepts: Entities, Attributes, Relationships.",
              "Types of Attributes and Relationships (One-to-One, One-to-Many, Many-to-Many).",
              "Mapping ER diagrams to Relational Schemas."
            ]
          },
          {
            title: "Functional Dependencies",
            items: [
              "Definition of Functional Dependency (FD).",
              "Armstrong's Axioms.",
              "Finding candidate keys using FDs."
            ]
          },
          {
            title: "Normalization",
            items: [
              "Anomalies: Insert, Update, Delete.",
              "First Normal Form (1NF).",
              "Second Normal Form (2NF).",
              "Third Normal Form (3NF).",
              "Boyce-Codd Normal Form (BCNF)."
            ],
            practice: "Given a set of attributes and functional dependencies, normalize the relation to 3NF/BCNF."
          }
        ]
      },
      {
        week: 5,
        title: "Transactions & Concurrency",
        intro: "Databases must handle multiple operations at once while maintaining data integrity. This week explores transactions and the ACID properties that guarantee reliability, as well as the mechanisms for controlling concurrent access to data.",
        topics: [
          {
            title: "Transaction Concepts",
            items: [
              "What is a Transaction?",
              "ACID Properties: Atomicity, Consistency, Isolation, Durability.",
              "Transaction States (Active, Partially Committed, etc.)."
            ],
            diagram: 'transactionStates'
          },
          {
            title: "Concurrency Control",
            items: [
              "Why is concurrency control needed? (Lost Update, Dirty Read problems).",
              "Schedules: Serializable, Recoverable.",
              "Lock-Based Protocols: Two-Phase Locking (2PL).",
              "Timestamp-Based Protocols."
            ]
          }
        ]
      },
      {
        week: 6,
        title: "Advanced Topics & Revision",
        intro: "In the final week, we'll touch upon some advanced topics like NoSQL and indexing structures. The primary focus, however, is on revision and practicing complex SQL queries to solidify your knowledge for interviews.",
        topics: [
          {
            title: "Indexing and Security",
            items: [
              "Indexing in detail: B-Trees and B+ Trees.",
              "Database Security: Access Control, SQL Injection basics."
            ]
          },
          {
            title: "NoSQL Databases",
            items: [
              "Brief Introduction to NoSQL.",
              "Types: Key-Value, Document, Column-family, Graph.",
              "SQL vs. NoSQL."
            ]
          },
          {
            title: "Revision",
            items: [
              "Review all topics from Week 1 to 5.",
              "Solve complex SQL query problems from platforms like LeetCode.",
              "Practice explaining DBMS concepts clearly."
            ]
          }
        ]
      }
    ];

    const state = {
      progress: JSON.parse(localStorage.getItem('dbmsRoadmapProgress')) || {},
      activeWeek: 1,
      totalItems: 0,
      completedItems: 0,
    };

    let progressChart;

    function saveProgress() {
      localStorage.setItem('dbmsRoadmapProgress', JSON.stringify(state.progress));
    }

    function calculateProgress() {
      state.totalItems = 0;
      state.completedItems = 0;
      roadmapData.forEach(week => {
        week.topics.forEach(topic => {
          topic.items.forEach(item => {
            state.totalItems++;
            const itemId = `${week.week}-${topic.title}-${item}`;
            if (state.progress[itemId]) {
              state.completedItems++;
            }
          });
        });
      });
    }

    function renderNav() {
      const navEl = document.getElementById('week-nav');
      navEl.innerHTML = '';
      roadmapData.forEach(week => {
        let weekTotal = 0;
        let weekCompleted = 0;
        week.topics.forEach(topic => {
          topic.items.forEach(item => {
            weekTotal++;
            const itemId = `${week.week}-${topic.title}-${item}`;
            if (state.progress[itemId]) {
              weekCompleted++;
            }
          });
        });
        const weekPercentage = weekTotal > 0 ? (weekCompleted / weekTotal) * 100 : 0;

        const navItem = document.createElement('div');
        navItem.className = `nav-item p-3 rounded-lg cursor-pointer transition-colors duration-200 hover:bg-gray-100 ${state.activeWeek === week.week ? 'active' : ''}`;
        navItem.dataset.week = week.week;
        navItem.innerHTML = `
                    <div class="flex justify-between items-center mb-1">
                        <span class="font-semibold text-sm">Week ${week.week}</span>
                        <span class="text-xs text-gray-500">${Math.round(weekPercentage)}%</span>
                    </div>
                    <p class="text-xs text-gray-600 mb-2">${week.title}</p>
                    <div class="w-full progress-bar-bg rounded-full h-1.5">
                        <div class="progress-bar-fill h-1.5 rounded-full" style="width: ${weekPercentage}%"></div>
                    </div>
                `;
        navEl.appendChild(navItem);
      });
    }

    function renderTransactionStateDiagram() {
      return `
                <div class="bg-white p-6 rounded-lg border border-gray-200 mt-6">
                    <h4 class="font-semibold text-gray-700 mb-4">Transaction State Lifecycle</h4>
                    <div class="flex flex-col items-center space-y-2 text-sm font-semibold">
                        <div class="db-state py-2 px-4 rounded-md shadow-sm">Active</div>
                        <div class="w-px h-6 bg-gray-300"></div>
                        <div class="db-state py-2 px-4 rounded-md shadow-sm">Partially Committed</div>
                        <div class="w-px h-6 bg-gray-300"></div>
                        <div class="db-state py-2 px-4 rounded-md shadow-sm">Committed</div>
                        <div class="absolute mt-10 ml-48 text-gray-600 transform -rotate-45">
                            <div class="w-16 h-px bg-gray-400"></div>
                            <span class="absolute -top-3 right-0 text-xs">Abort →</span>
                        </div>
                         <div class="absolute mt-32 ml-48 text-gray-600 transform -rotate-45">
                            <div class="w-16 h-px bg-gray-400"></div>
                            <span class="absolute -top-3 right-0 text-xs">Fail →</span>
                        </div>
                        <div class="db-state py-2 px-4 rounded-md shadow-sm ml-64 -mt-24 bg-red-100 border-red-300 text-red-700">Failed</div>
                         <div class="w-px h-6 bg-gray-300 ml-64"></div>
                        <div class="db-state py-2 px-4 rounded-md shadow-sm ml-64 bg-red-100 border-red-300 text-red-700">Aborted</div>
                    </div>
                </div>
            `;
    }

    function renderContent() {
      const contentEl = document.getElementById('main-content');
      const weekData = roadmapData.find(w => w.week === state.activeWeek);
      if (!weekData) return;

      let contentHTML = `
                <h2 class="text-3xl font-bold text-gray-800">${weekData.title}</h2>
                <p class="mt-2 mb-8 text-gray-600 max-w-3xl">${weekData.intro}</p>
            `;

      weekData.topics.forEach(topic => {
        contentHTML += `
                    <details class="bg-white border border-gray-200 rounded-lg mb-4 overflow-hidden" ${topic.title.includes("Fundamentals") ? 'open' : ''}>
                        <summary class="p-5 cursor-pointer flex justify-between items-center hover:bg-gray-50">
                            <h3 class="text-lg font-semibold text-gray-700">${topic.title}</h3>
                            <div class="arrow text-gray-500 transform transition-transform duration-200">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                            </div>
                        </summary>
                        <div class="p-5 border-t border-gray-200">
                            <ul class="space-y-3">
                `;
        topic.items.forEach(item => {
          const itemId = `${weekData.week}-${topic.title}-${item}`;
          const isChecked = state.progress[itemId] ? 'checked' : '';
          contentHTML += `
                        <li class="flex items-start">
                            <input type="checkbox" id="${itemId}" data-itemid="${itemId}" class="mt-1 h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500" ${isChecked}>
                            <label for="${itemId}" class="ml-3 text-gray-700">${item}</label>
                        </li>
                    `;
        });
        contentHTML += '</ul>';

        if (topic.practice) {
          contentHTML += `
                        <div class="mt-5 p-4 bg-yellow-50 border-l-4 border-yellow-400 text-yellow-700 rounded-r-lg">
                            <p><strong>Practice:</strong> ${topic.practice}</p>
                        </div>
                    `;
        }

        if (topic.diagram === 'transactionStates') {
          contentHTML += renderTransactionStateDiagram();
        }

        contentHTML += '</div></details>';
      });

      contentEl.innerHTML = contentHTML;
    }

    function updateChart() {
      const percentage = state.totalItems > 0 ? (state.completedItems / state.totalItems) * 100 : 0;
      document.getElementById('progressText').textContent = `${Math.round(percentage)}%`;

      if (progressChart) {
        progressChart.data.datasets[0].data = [percentage, 100 - percentage];
        progressChart.update();
      } else {
        const ctx = document.getElementById('progressChart').getContext('2d');
        progressChart = new Chart(ctx, {
          type: 'doughnut',
          data: {
            datasets: [{
              data: [percentage, 100 - percentage],
              backgroundColor: ['#4682B4', '#EAE5E0'],
              borderWidth: 0,
              borderRadius: 5,
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            cutout: '75%',
            plugins: {
              tooltip: { enabled: false },
              legend: { display: false }
            },
            events: []
          }
        });
      }
    }

    function fullRender() {
      calculateProgress();
      renderNav();
      renderContent();
      updateChart();
    }

    document.getElementById('week-nav').addEventListener('click', (e) => {
      const navItem = e.target.closest('.nav-item');
      if (navItem) {
        state.activeWeek = parseInt(navItem.dataset.week);
        fullRender();
      }
    });

    document.getElementById('main-content').addEventListener('change', (e) => {
      if (e.target.type === 'checkbox') {
        const itemId = e.target.dataset.itemid;
        state.progress[itemId] = e.target.checked;
        saveProgress();
        fullRender();
      }
    });

    // Initial load
    fullRender();

  </script>
</body>

</html>